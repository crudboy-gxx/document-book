# 第2章 java内存区域与内存溢出异常
## 运行时数据区域
java虚机内存分为几个运行时数据区域：methodArea、heap；vmStack、nativeMethodStack、ProgramCounterRegister
+ 程序计数器
当前线程执行的字节码的行号指示器。字节码解释器工作时是通过改变程序计数器的值来选取下一条需要执行的字节码指令。
+ java虚拟机栈
java方法执行的线程内存模型。内个方法被执行时同步创建一个栈帧，用来存储局部变量表、操作数栈、动态链接等信息。
在Java虚机栈中，比较关注的是“局部变量表”。里面存放了编译期可知的基本数据类型、对象引用、returnAddress类型，这些数据类型在局部变量中是以变量槽slot来表示，局部变量表所需的内存空间在编译期间完成分配。
+ 本地方法栈
与java虚拟机栈非常相似，java虚拟机栈为虚拟机执行java方法服务，本地方法栈为虚拟机使用本地方法服务？
+ java堆
他是一块被所有线程共享的内存区域，在虚机启动时创建，用来存放对象实例。java堆是垃圾回收器管理的内存区域，为了更高效的垃圾回收和分配内存，垃圾回收期大部分都是基于分代收集理论设计，所以java堆中会被划分为新生代、老年代、永久代等空间。